# Verification (DoÄŸrulama) ğŸ¯

Bu kÄ±sÄ±mda `Verifier` bireyinin rollerini birlikte gerÃ§ekleÅŸtireceÄŸiz. Bu iÅŸlemler:

- ğŸ“¥ `Claimer` tarafÄ±ndan verilen `Presentation` objesini teslim alacaÄŸÄ±z.
- ğŸ§ Veri iÃ§erisindeki bilgilerin doÄŸruluÄŸunu kontrol edeceÄŸiz.
- ğŸ”— `attestation` iÅŸleminin doÄŸru olup olmadÄ±ÄŸÄ±nÄ± zincirdeki hash deÄŸerini kontrol ederek onaylayacaksÄ±n. Bu attestation `revoke` da edilmiÅŸ olabilir. Bu duruma da bakmak gerekir.
- ğŸ¤” GÃ¶nderilen kimlik belgesinin `Claimer` tarafÄ±ndan gÃ¶nderildiÄŸine emin olacaksÄ±n.

:::tip ğŸ‰ Presentation: Åimdi ben PowerPoint Sunumu mu hazÄ±rlÄ±cam birde yuha!
`Presentation` yani tÃ¼rkÃ§esi ile sunum yaptÄ±ÄŸÄ±mÄ±z belge `credential` kullanÄ±larak Ã¼retilecek belgedir. Bir `presentation` `credential`'in aksine iÃ§erisindeki belgelerin bazÄ±larÄ±nÄ± saklayabilir. Bu bilgiler `verifier`'lar tarafÄ±ndan bilinmesi gerekmeyen bilgilerdir. Bu `presentation` aynÄ± zamanda `credential`'in `Claimer`'a ait olduÄŸunu kanÄ±tlamaktadÄ±r.
:::

:::info ğŸ¤“ Verification Neydi ya hatÄ±rlasak mÄ±?

ğŸ” Bir Claimer, onaylanmÄ±ÅŸ bir Kimlik Bilgisini (Credential) aldÄ±ÄŸÄ±nda, bunu cÃ¼zdanlarÄ±nda saklayabilir. Ancak bu kimlik bilgisinin bir kopyasÄ± yoksa, geÃ§erliliÄŸini nasÄ±l belirleyebiliriz?

ğŸ”’ KILT, bir Claimer tarafÄ±ndan bir kimlik bilgisinde sunulan bilgilerin doÄŸruluÄŸunu ve geÃ§erliliÄŸini bir DoÄŸrulayÄ±cÄ±ya (Verifier) doÄŸrulama olanaÄŸÄ± tanÄ±r. 

ğŸ’¡ DoÄŸrulayÄ±cÄ±, bu Ã¼Ã§Ã¼ncÃ¼ tarafa ya doÄŸrudan kendi itibarlarÄ±na dayanarak ya da OnaylayÄ±cÄ±nÄ±n dahil olduÄŸu bir delegasyon yapÄ±sÄ± aracÄ±lÄ±ÄŸÄ±yla gÃ¼ven duyar.

âœ… DoÄŸrulama sÃ¼reci iÃ§in:

ğŸ”‘ Claimer, kimlik bilgisi ve tanÄ±mlayÄ±cÄ±larÄ±yla iliÅŸkilendirilmiÅŸ Ã¶zel anahtara ihtiyaÃ§ duyar.

ğŸ”’ DoÄŸrulayÄ±cÄ±, gÃ¼vendiÄŸi OnaylayÄ±cÄ±nÄ±n tanÄ±mlayÄ±cÄ±sÄ±na ihtiyaÃ§ duyar.

ğŸ” DoÄŸrulama sÃ¼reci sÄ±rasÄ±nda, Claimer, DoÄŸrulayÄ±cÄ±ya Ã¼Ã§ ÅŸeyi kanÄ±tlamayÄ± amaÃ§lar:

1ï¸âƒ£ Kimlik bilgisi geÃ§erlidir ve OnaylayÄ±cÄ± tarafÄ±ndan iptal edilmemiÅŸtir.
2ï¸âƒ£ Kimlik bilgisinde belirtilen Ã¶zellikler gerÃ§ekten Claimer'a aittir.
3ï¸âƒ£ Kimlik bilgisi, belirli bir kullanÄ±m durumu iÃ§in DoÄŸrulayÄ±cÄ± iÃ§in ilgili bilgileri iÃ§erir.
:::

## ğŸ¨ Presentation OluÅŸturma

Sadece Claimer'Ä± gÃ¶nderip Verifier'Ä±n doÄŸrulmasÄ±nÄ± bekleyemez. AynÄ± zamanda bu `credantial` ile birlikte o `credantial`'in sahibi olduÄŸunu kanÄ±tlamasÄ± gerekmektedir. Bu sahipliÄŸi kanÄ±tlamak iÃ§in bir `presentation` oluÅŸturup imzalamasÄ± gerekmektedir.

### ğŸ“¦ Paketlerin Eklenmesi:

```typescript title="claimer/createPresentation.ts"
import * as Kilt from '@kiltprotocol/sdk-js'
```
Bu satÄ±r, KILT SDK'sÄ±nÄ± projeye dahil eder. Bu SDK, KILT protokolÃ¼ ile etkileÅŸimde bulunmak iÃ§in gerekli fonksiyonlarÄ± ve sÄ±nÄ±flarÄ± saÄŸlar.

### **ğŸ›  `createPresentation` Fonksiyonu**:

```typescript title="claimer/createPresentation.ts"
export async function createPresentation(
  credential: Kilt.ICredential,
  signCallback: Kilt.SignCallback,
  challenge?: string
): Promise<Kilt.ICredentialPresentation> {
```
Bu fonksiyon, bir kimlik bilgisi sunumu oluÅŸturmak iÃ§in asenkron bir fonksiyondur. ÃœÃ§ parametre alÄ±r:

- `credential`: DoÄŸrulayÄ±cÄ±ya sunulacak olan kimlik bilgisi.
- `signCallback`: Kimlik bilgisi sunumunun imzalanmasÄ± iÃ§in kullanÄ±lacak geri Ã§aÄŸÄ±rma fonksiyonu.
- `challenge`: Opsiyonel bir parametre. Bu, doÄŸrulayÄ±cÄ±nÄ±n talep ettiÄŸi rastgele bir dizedir ve kimlik bilgisi sunumunun doÄŸrulayÄ±cÄ± tarafÄ±ndan talep edildiÄŸini doÄŸrulamak iÃ§in kullanÄ±lÄ±r.

Fonksiyon, bir `ICredentialPresentation` nesnesi dÃ¶ndÃ¼rÃ¼r. Bu nesne, kimlik bilgisi sunumunun kendisidir.

### **ğŸ¨ Sunumu OluÅŸturma**:

```typescript title="claimer/createPresentation.ts"
return Kilt.Credential.createPresentation({
    credential,
    signCallback,
    challenge
  })
```
Bu kÄ±sÄ±m, `Kilt.Credential.createPresentation` fonksiyonunu kullanarak bir kimlik bilgisi sunumu oluÅŸturur. Bu fonksiyon, yukarÄ±da belirttiÄŸimiz Ã¼Ã§ parametreyi alÄ±r ve bir kimlik bilgisi sunumu dÃ¶ndÃ¼rÃ¼r.

:::note ğŸŒ GeniÅŸ bir bakÄ±ÅŸ yapalÄ±m
Åimdi kodun tamamÄ±na bakarak iÅŸlevini anlamak istersek:

```typescript title="claimer/createPresentation.ts"
import * as Kilt from '@kiltprotocol/sdk-js'

export async function createPresentation(
  credential: Kilt.ICredential,
  signCallback: Kilt.SignCallback,
  challenge?: string
): Promise<Kilt.ICredentialPresentation> {
  // Create the presentation from credential, DID and challenge.
  return Kilt.Credential.createPresentation({
    credential,
    signCallback,
    challenge
  })
}
```
Ã–zetle, bu kod, bir kimlik bilgisi sunumu oluÅŸturmayÄ± saÄŸlar. Bu sunum, bir doÄŸrulayÄ±cÄ±ya kimlik bilgisi sunarken kullanÄ±lÄ±r. DoÄŸrulayÄ±cÄ±, bu sunumu kullanarak kimlik bilgisinin geÃ§erliliÄŸini ve kimlik bilgisi sahibinin kimliÄŸini doÄŸrulayabilir.
:::